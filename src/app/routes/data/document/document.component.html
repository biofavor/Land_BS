<div class="panel full-height" style="overflow-y:auto">
  <app-document-detail #documentDetailPanel (onSubmit)="submit(documentDetailPanel.mode.create,documentDetailPanel.document)"></app-document-detail>
  <div class="panel-heading sticky-header">
    <div class="row">
      <div class="col-lg-6 col-xs-6">
        <h4>文档管理</h4>
      </div>
      <div class="col-lg-6 col-xs-6 text-right">
        <div class="form-inline">
          <input class="form-control" name="keyword" [(ngModel)]="option.keyword" (ngModelChange)="search()" placeholder="搜索文档名称"/>
          <button class="btn btn-primary" (click)="documentDetailPanel.show(null)">添加</button>
        </div>
      </div>
    </div>
  </div>
  <div class="panel-body">
    <div class="row">
      <div class="col-lg-12">
        <table class="table table-bordered table-hover">
          <thead>
          <tr>
            <th>#</th>
            <th>文件名</th>
            <th>文件类型</th>
            <th>上传人</th>
            <th>上传时间</th>
            <th>操作</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let document of search_documents;let i = index">
            <td>{{i + 1}}</td>
            <td><span class = "text-fixed-width-20" title="{{document.name}}" >{{document.name}}</span></td>
            <td>{{document.base_type?.name}}</td>
            <td>{{document.author.username}}</td>
            <td>{{document.date | date : "yyyy-MM-dd"}}</td>
            <td>
              <button type="button" class="btn btn-primary btn-xs" (click)="documentDetailPanel.show(document)"><span class="fas fa-edit"></span> 修改
              </button>
              <button type="button" class="btn btn-danger btn-xs" (click)="delete(document)"><span class="fas fa-times"></span> 删除
              </button>
              <button type="button" class="btn btn-info btn-xs" (click)="download(document)"><span class="fas fa-download"></span> 下载
              </button>
            </td>
          </tr>
          </tbody>
        </table>

      </div>
    </div>
  </div>
</div>